{% extends 'parts/base.html' %}
{% load widget_tweaks %}

{% block title %}{{ title }} - Parts Management{% endblock %}

{% block content %}
<div class="row">
    <div class="col-md-8">
        <h1>{{ title }}</h1>

        <form method="post" hx-post="{% if part %}{% url 'parts:part-edit' part.pk %}{% else %}{% url 'parts:part-create' %}{% endif %}"
              hx-target="body" hx-swap="innerHTML">
            {% csrf_token %}

            <div class="mb-3">
                <label for="{{ form.part_terminology_name.id_for_label }}" class="form-label">Part Name</label>
                {{ form.part_terminology_name|add_class:"form-control" }}
                {% if form.part_terminology_name.errors %}
                    <div class="text-danger">{{ form.part_terminology_name.errors }}</div>
                {% endif %}
            </div>

            <div class="mb-3">
                <label for="{{ form.parts_description.id_for_label }}" class="form-label">Description</label>
                {{ form.parts_description|add_class:"form-control" }}
                {% if form.parts_description.errors %}
                    <div class="text-danger">{{ form.parts_description.errors }}</div>
                {% endif %}
            </div>

            <div class="mb-3">
                <label for="{{ form.rev_date.id_for_label }}" class="form-label">Revision Date</label>
                {{ form.rev_date|add_class:"form-control" }}
                {% if form.rev_date.errors %}
                    <div class="text-danger">{{ form.rev_date.errors }}</div>
                {% endif %}
            </div>

            <div class="mb-3">
                <button type="submit" class="btn btn-primary">Save</button>
                <a href="{% if part %}{% url 'parts:part-detail' part.pk %}{% else %}{% url 'parts:part-list' %}{% endif %}"
                   class="btn btn-secondary">Cancel</a>
            </div>
        </form>
    </div>
</div>
{% endblock %}