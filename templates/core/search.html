{% extends 'base.html' %}

{% block title %}Search Results{% if query %} - "{{ query }}"{% endif %}{% endblock %}

{% block content %}
<div class="container mx-auto px-4 py-8">
    <div class="mb-8">
        <h1 class="text-3xl font-bold text-gray-900">
            {% if query %}Search Results for "{{ query }}"{% else %}Global Search{% endif %}
        </h1>
    </div>

    <!-- Search Form -->
    <div class="bg-white rounded-lg shadow-sm border p-6 mb-8">
        <form method="get" class="flex space-x-4">
            <div class="flex-1">
                <input type="text" name="q" value="{{ query }}"
                       placeholder="Search products, assets, users..."
                       class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500">
            </div>
            <button type="submit" class="px-8 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700">
                Search
            </button>
        </form>
    </div>

    {% if query %}
        <!-- Display search results here -->
        <div class="space-y-8">
            {% if products %}
            <div class="bg-white rounded-lg shadow-sm border p-6">
                <h2 class="text-xl font-semibold mb-4">Products ({{ products|length }})</h2>
                <!-- Product results -->
            </div>
            {% endif %}

            {% if assets %}
            <div class="bg-white rounded-lg shadow-sm border p-6">
                <h2 class="text-xl font-semibold mb-4">Assets ({{ assets|length }})</h2>
                <!-- Asset results -->
            </div>
            {% endif %}

            {% if users and user.is_employee %}
            <div class="bg-white rounded-lg shadow-sm border p-6">
                <h2 class="text-xl font-semibold mb-4">Users ({{ users|length }})</h2>
                <!-- User results -->
            </div>
            {% endif %}
        </div>
    {% endif %}
</div>
{% endblock %}