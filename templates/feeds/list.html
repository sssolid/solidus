<!-- templates/feeds/list.html - COMPLETE REFACTORING -->
{% extends "base.html" %}
{% load widget_tweaks %}

{% block title %}Data Feeds - Solidus{% endblock %}

{% block content %}
    {% include 'partials/content/list_header.html' with title="Data Feeds" subtitle="Create and manage product data feeds" actions=header_actions %}

    {% include 'partials/ui/tabs.html' with tabs=feed_tabs active_tab='active' %}

    {% include 'partials/content/search_filter.html' with show_search=True search_placeholder="Search feeds..." filter_fields=filter_form.visible_fields use_htmx=True target_id="feeds-container" grid_cols=3 %}

    <div id="feeds-container">
        {% if feeds %}
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                {% for feed in feeds %}
                    {% include 'partials/feeds/feed_card.html' with feed=feed %}
                {% endfor %}
            </div>
        {% else %}
            {% include 'partials/content/empty_state.html' with icon="fas fa-rss" title="No feeds found" message="Create your first data feed for customers" action_url_name="feeds:create" action_text="Create Feed" action_icon="fas fa-plus" %}
        {% endif %}
    </div>

    {% include 'partials/pagination.html' %}
{% endblock %}