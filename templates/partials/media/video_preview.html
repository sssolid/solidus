<!-- templates/partials/media/video_preview.html -->
<div class="relative bg-black rounded-lg overflow-hidden">
    <video class="w-full h-{{ height|default:'48' }} object-cover"
           {% if autoplay %}autoplay{% endif %}
           {% if muted %}muted{% endif %}
           {% if loop %}loop{% endif %}
           {% if controls %}controls{% endif %}>
        <source src="{{ video_url }}" type="video/mp4">
        Your browser does not support the video tag.
    </video>

    {% if not controls %}
        <div class="absolute inset-0 flex items-center justify-center">
            <button onclick="this.previousElementSibling.play(); this.style.display='none';"
                    class="bg-white bg-opacity-90 hover:bg-opacity-100 rounded-full p-4 transition">
                <i class="fas fa-play text-gray-900 text-xl"></i>
            </button>
        </div>
    {% endif %}

    {% if show_info %}
        <div class="absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-3">
            <p class="text-white text-sm font-medium">{{ title }}</p>
            {% if duration %}
                <p class="text-gray-300 text-xs">{{ duration }}</p>
            {% endif %}
        </div>
    {% endif %}
</div>