<!-- templates/partials/ui/dropdown.html -->
<div class="relative" x-data="{ open: false }">
    <button @click="open = !open"
            type="button"
            class="{% include 'partials/ui/button_classes.html' with button=trigger_button %}">
        {{ trigger_text }}
        <i class="fas fa-chevron-down ml-2"></i>
    </button>

    <div x-show="open"
         @click.away="open = false"
         x-transition
         class="absolute {{ position|default:'right-0' }} mt-2 w-{{ width|default:'48' }} bg-white rounded-md shadow-lg py-1 z-50">
        {% for item in dropdown_items %}
            {% if item.divider %}
                <div class="border-t border-gray-100"></div>
            {% elif item.url %}
                <a href="{{ item.url }}"
                   class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                    {% if item.icon %}<i class="{{ item.icon }} mr-2"></i>{% endif %}
                    {{ item.text }}
                </a>
            {% else %}
                <button @click="{{ item.action }}; open = false"
                        class="block w-full text-left px-4 py-2 text-sm text-gray-700 hover:bg-gray-100">
                    {% if item.icon %}<i class="{{ item.icon }} mr-2"></i>{% endif %}
                    {{ item.text }}
                </button>
            {% endif %}
        {% endfor %}
    </div>
</div>