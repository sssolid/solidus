<!-- templates/products/create.html - COMPLETE REFACTORING -->
{% extends "base.html" %}
{% load widget_tweaks %}

{% block title %}Create Product - Solidus{% endblock %}

{% block content %}
    {% include 'partials/content/list_header.html' with title="Create Product" subtitle="Add a new product to your catalog" %}

    <form method="post" class="space-y-8">
        {% csrf_token %}

        <!-- Basic Information -->
        {% include 'partials/ui/card.html' with card_header=True card_title="Basic Information" %}
        <div class="grid grid-cols-1 gap-6 sm:grid-cols-2">
            {% include 'partials/forms/field.html' with field=form.name field_class='sm:col-span-2' %}
            {% include 'partials/forms/field.html' with field=form.part_number %}
            {% include 'partials/forms/field.html' with field=form.brand field_type='select' %}
            {% include 'partials/forms/field.html' with field=form.description field_type='textarea' field_class='sm:col-span-2' %}
        </div>

        <!-- Categories and Classification -->
        {% include 'partials/ui/card.html' with card_header=True card_title="Categories and Classification" %}
        <div class="grid grid-cols-1 gap-6 sm:grid-cols-2">
            {% include 'partials/forms/field.html' with field=form.categories field_type='checkbox' field_class='sm:col-span-2' %}
            {% include 'partials/forms/tags_input.html' with field=form.tags field_class='sm:col-span-2' %}
        </div>

        <!-- Physical Properties -->
        {% include 'partials/ui/card.html' with card_header=True card_title="Physical Properties" %}
        <div class="grid grid-cols-1 gap-6 sm:grid-cols-3">
            {% include 'partials/forms/field.html' with field=form.weight %}
            {% include 'partials/forms/field.html' with field=form.length %}
            {% include 'partials/forms/field.html' with field=form.width %}
            {% include 'partials/forms/field.html' with field=form.height %}
            {% include 'partials/forms/field.html' with field=form.weight_unit field_type='select' %}
            {% include 'partials/forms/field.html' with field=form.dimension_unit field_type='select' %}
        </div>

        <!-- Pricing and Availability -->
        {% include 'partials/ui/card.html' with card_header=True card_title="Pricing and Availability" %}
        <div class="grid grid-cols-1 gap-6 sm:grid-cols-2">
            {% include 'partials/forms/field.html' with field=form.base_price %}
            {% include 'partials/forms/field.html' with field=form.cost %}
            {% include 'partials/forms/field.html' with field=form.stock_quantity %}
            {% include 'partials/forms/field.html' with field=form.status field_type='select' %}
        </div>

        {% include 'partials/forms/form_actions.html' with submit_text='Create Product' submit_icon='fas fa-plus' cancel_url='products:list' secondary_action.text='Save as Draft' secondary_action.onclick='saveDraft()' %}
    </form>
{% endblock %}